<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 520" fill="none">
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0a0a0a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1a1a2e;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="inputGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="outputGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6d28d9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="aiGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="600" height="520" rx="12" fill="url(#bgGradient)"/>
  
  <!-- Border -->
  <rect x="1" y="1" width="598" height="518" rx="11" fill="none" stroke="#333" stroke-width="1"/>
  
  <!-- User Input Box -->
  <rect x="200" y="20" width="200" height="40" rx="8" fill="#1f2937" stroke="#4b5563" stroke-width="1"/>
  <text x="300" y="46" text-anchor="middle" fill="#e5e7eb" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="500">USER INPUT</text>
  
  <!-- Arrow 1 -->
  <path d="M300 60 L300 85" stroke="#6b7280" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Phase 1 Box -->
  <rect x="150" y="90" width="300" height="100" rx="10" fill="url(#inputGradient)" filter="url(#glow)" opacity="0.9"/>
  <text x="300" y="118" text-anchor="middle" fill="#ffffff" font-family="Inter, system-ui, sans-serif" font-size="13" font-weight="600">PHASE 1: INPUT SCAN</text>
  <text x="300" y="142" text-anchor="middle" fill="#dbeafe" font-family="Inter, system-ui, sans-serif" font-size="11">• Content filtering</text>
  <text x="300" y="158" text-anchor="middle" fill="#dbeafe" font-family="Inter, system-ui, sans-serif" font-size="11">• Jailbreak detection</text>
  <text x="300" y="174" text-anchor="middle" fill="#dbeafe" font-family="Inter, system-ui, sans-serif" font-size="11">• Intent analysis</text>
  
  <!-- Arrow 2 -->
  <path d="M300 190 L300 215" stroke="#6b7280" stroke-width="2"/>
  
  <!-- Context Elevation Box -->
  <rect x="175" y="220" width="250" height="35" rx="6" fill="#374151" stroke="#4b5563" stroke-width="1"/>
  <text x="300" y="243" text-anchor="middle" fill="#fbbf24" font-family="Inter, system-ui, sans-serif" font-size="11" font-weight="500">If suspicious: elevate context →</text>
  
  <!-- Arrow 3 -->
  <path d="M300 255 L300 280" stroke="#6b7280" stroke-width="2"/>
  
  <!-- AI Model Box -->
  <rect x="175" y="285" width="250" height="45" rx="8" fill="url(#aiGradient)" filter="url(#glow)" opacity="0.9"/>
  <text x="300" y="313" text-anchor="middle" fill="#ffffff" font-family="Inter, system-ui, sans-serif" font-size="13" font-weight="600">AI MODEL RESPONSE</text>
  
  <!-- Arrow 4 -->
  <path d="M300 330 L300 355" stroke="#6b7280" stroke-width="2"/>
  
  <!-- Phase 2 Box -->
  <rect x="150" y="360" width="300" height="100" rx="10" fill="url(#outputGradient)" filter="url(#glow)" opacity="0.9"/>
  <text x="300" y="388" text-anchor="middle" fill="#ffffff" font-family="Inter, system-ui, sans-serif" font-size="13" font-weight="600">PHASE 2: OUTPUT SCAN</text>
  <text x="300" y="412" text-anchor="middle" fill="#ede9fe" font-family="Inter, system-ui, sans-serif" font-size="11">• PII detection</text>
  <text x="300" y="428" text-anchor="middle" fill="#ede9fe" font-family="Inter, system-ui, sans-serif" font-size="11">• Instruction leakage</text>
  <text x="300" y="444" text-anchor="middle" fill="#ede9fe" font-family="Inter, system-ui, sans-serif" font-size="11">• Context-aware scoring</text>
  
  <!-- jailbreakRisk arrow from Phase 1 to Phase 2 -->
  <path d="M450 160 L520 160 L520 410 L450 410" stroke="#f59e0b" stroke-width="2" fill="none" stroke-dasharray="5,3"/>
  <rect x="480" y="270" width="100" height="24" rx="4" fill="#1f2937" stroke="#f59e0b" stroke-width="1"/>
  <text x="530" y="287" text-anchor="middle" fill="#f59e0b" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="500">jailbreakRisk</text>
  
  <!-- Arrow 5 -->
  <path d="M300 460 L300 485" stroke="#6b7280" stroke-width="2"/>
  
  <!-- Safe Response Box -->
  <rect x="200" y="470" width="200" height="35" rx="8" fill="#064e3b" stroke="#10b981" stroke-width="1"/>
  <text x="300" y="493" text-anchor="middle" fill="#34d399" font-family="Inter, system-ui, sans-serif" font-size="13" font-weight="600">✓ SAFE RESPONSE</text>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6b7280"/>
    </marker>
  </defs>
</svg>
