{"version":3,"file":"event-client.js","sources":["../../src/event-client.ts"],"sourcesContent":["import { EventClient } from '@tanstack/devtools-event-client'\n\n/**\n * Tool call states - track the lifecycle of a tool call\n * Must match @tanstack/ai-client ToolCallState\n */\ntype ToolCallState =\n  | 'awaiting-input' // Received start but no arguments yet\n  | 'input-streaming' // Partial arguments received\n  | 'input-complete' // All arguments received\n  | 'approval-requested' // Waiting for user approval\n  | 'approval-responded' // User has approved/denied\n\n/**\n * Tool result states - track the lifecycle of a tool result\n * Must match @tanstack/ai-client ToolResultState\n */\ntype ToolResultState =\n  | 'streaming' // Placeholder for future streamed output\n  | 'complete' // Result is complete\n  | 'error' // Error occurred\n\nexport interface AIDevtoolsEventMap {\n  // AI Stream events - from @tanstack/ai package\n  'tanstack-ai-devtools:stream:started': {\n    streamId: string\n    model: string\n    provider: string\n    timestamp: number\n    clientId?: string\n  }\n  'tanstack-ai-devtools:stream:chunk:content': {\n    streamId: string\n    messageId?: string\n    content: string\n    delta?: string\n    timestamp: number\n  }\n  'tanstack-ai-devtools:stream:chunk:tool-call': {\n    streamId: string\n    messageId?: string\n    toolCallId: string\n    toolName: string\n    index: number\n    arguments: string\n    timestamp: number\n  }\n  'tanstack-ai-devtools:stream:chunk:tool-result': {\n    streamId: string\n    messageId?: string\n    toolCallId: string\n    result: string\n    timestamp: number\n  }\n  'tanstack-ai-devtools:stream:chunk:done': {\n    streamId: string\n    messageId?: string\n    finishReason: string | null\n    usage?: {\n      promptTokens: number\n      completionTokens: number\n      totalTokens: number\n    }\n    timestamp: number\n  }\n  'tanstack-ai-devtools:stream:chunk:error': {\n    streamId: string\n    messageId?: string\n    error: string\n    timestamp: number\n  }\n  'tanstack-ai-devtools:stream:chunk:thinking': {\n    streamId: string\n    messageId?: string\n    content: string\n    delta?: string\n    timestamp: number\n  }\n  'tanstack-ai-devtools:stream:approval-requested': {\n    streamId: string\n    messageId?: string\n    toolCallId: string\n    toolName: string\n    input: any\n    approvalId: string\n    timestamp: number\n  }\n  'tanstack-ai-devtools:stream:tool-input-available': {\n    streamId: string\n    messageId?: string\n    toolCallId: string\n    toolName: string\n    input: any\n    timestamp: number\n  }\n  'tanstack-ai-devtools:tool:call-completed': {\n    requestId: string\n    streamId: string\n    messageId?: string\n    toolCallId: string\n    toolName: string\n    result: any\n    duration: number\n    timestamp: number\n  }\n  'tanstack-ai-devtools:stream:ended': {\n    requestId: string\n    streamId: string\n    totalChunks: number\n    duration: number\n    timestamp: number\n  }\n  'tanstack-ai-devtools:text:started': {\n    requestId: string\n    streamId: string\n    provider: string\n    model: string\n    messageCount: number\n    hasTools: boolean\n    streaming: boolean\n    timestamp: number\n    clientId?: string\n    toolNames?: Array<string>\n    options?: Record<string, unknown>\n    modelOptions?: Record<string, unknown>\n  }\n  'tanstack-ai-devtools:text:completed': {\n    requestId: string\n    streamId: string\n    model: string\n    content: string\n    messageId?: string\n    finishReason?: string\n    usage?: {\n      promptTokens: number\n      completionTokens: number\n      totalTokens: number\n    }\n    timestamp: number\n  }\n  'tanstack-ai-devtools:text:iteration': {\n    requestId: string\n    streamId: string\n    iterationNumber: number\n    messageCount: number\n    toolCallCount: number\n    timestamp: number\n  }\n  'tanstack-ai-devtools:usage:tokens': {\n    requestId: string\n    streamId: string\n    model: string\n    messageId?: string\n    usage: {\n      promptTokens: number\n      completionTokens: number\n      totalTokens: number\n    }\n    timestamp: number\n  }\n\n  // Summarize events\n  'tanstack-ai-devtools:summarize:started': {\n    requestId: string\n    model: string\n    inputLength: number\n    timestamp: number\n    clientId?: string\n  }\n  'tanstack-ai-devtools:summarize:completed': {\n    requestId: string\n    model: string\n    inputLength: number\n    outputLength: number\n    duration: number\n    timestamp: number\n  }\n\n  // Text Client events - from @tanstack/ai-client package\n  'tanstack-ai-devtools:client:created': {\n    clientId: string\n    initialMessageCount: number\n    timestamp: number\n  }\n  'tanstack-ai-devtools:client:message-appended': {\n    clientId: string\n    messageId: string\n    role: 'user' | 'assistant' | 'system' | 'tool'\n    contentPreview: string\n    timestamp: number\n  }\n  'tanstack-ai-devtools:client:message-sent': {\n    clientId: string\n    messageId: string\n    content: string\n    timestamp: number\n  }\n  'tanstack-ai-devtools:client:loading-changed': {\n    clientId: string\n    isLoading: boolean\n    timestamp: number\n  }\n  'tanstack-ai-devtools:client:error-changed': {\n    clientId: string\n    error: string | null\n    timestamp: number\n  }\n  'tanstack-ai-devtools:client:messages-cleared': {\n    clientId: string\n    timestamp: number\n  }\n  'tanstack-ai-devtools:client:reloaded': {\n    clientId: string\n    fromMessageIndex: number\n    timestamp: number\n  }\n  'tanstack-ai-devtools:client:stopped': {\n    clientId: string\n    timestamp: number\n  }\n  'tanstack-ai-devtools:tool:result-added': {\n    clientId: string\n    toolCallId: string\n    toolName: string\n    output: any\n    state: 'output-available' | 'output-error'\n    timestamp: number\n  }\n  'tanstack-ai-devtools:tool:approval-responded': {\n    clientId: string\n    approvalId: string\n    toolCallId: string\n    approved: boolean\n    timestamp: number\n  }\n  'tanstack-ai-devtools:processor:text-updated': {\n    streamId: string\n    content: string\n    timestamp: number\n  }\n  'tanstack-ai-devtools:processor:tool-call-state-changed': {\n    streamId: string\n    toolCallId: string\n    toolName: string\n    state: ToolCallState\n    arguments: any\n    timestamp: number\n  }\n  'tanstack-ai-devtools:processor:tool-result-state-changed': {\n    streamId: string\n    toolCallId: string\n    content: any\n    state: ToolResultState\n    error?: string\n    timestamp: number\n  }\n  'tanstack-ai-devtools:client:assistant-message-updated': {\n    clientId: string\n    messageId: string\n    content: string\n    timestamp: number\n  }\n  'tanstack-ai-devtools:client:tool-call-updated': {\n    clientId: string\n    messageId: string\n    toolCallId: string\n    toolName: string\n    state: ToolCallState\n    arguments: any\n    timestamp: number\n  }\n  'tanstack-ai-devtools:client:approval-requested': {\n    clientId: string\n    messageId: string\n    toolCallId: string\n    toolName: string\n    input: any\n    approvalId: string\n    timestamp: number\n  }\n}\n\nclass AiEventClient extends EventClient<AIDevtoolsEventMap> {\n  constructor() {\n    super({\n      pluginId: 'tanstack-ai-devtools',\n    })\n  }\n}\n\nconst aiEventClient = new AiEventClient()\n\nexport { aiEventClient }\n"],"names":[],"mappings":";AA0RA,MAAM,sBAAsB,YAAgC;AAAA,EAC1D,cAAc;AACZ,UAAM;AAAA,MACJ,UAAU;AAAA,IAAA,CACX;AAAA,EACH;AACF;AAEA,MAAM,gBAAgB,IAAI,cAAA;"}